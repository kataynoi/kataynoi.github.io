---
layout: post
title: การตรวจสอบและตั้งค่าตาราง ที่เกี่ยวข้องกับ งานวัคซีน
---

#### ตารางวัคซีนเด็กไทย ปี 2559
---
เนื่องจาก ปี งบประมาณ 2559  มีการติดตามความครอบคลุมวัคซีนหลายๆตัว ในระบบ HDC ซึ่งต่ำกว่าระบบรายงานแบบ กระดาษ
 และข้อมูลวัคซีนต่ำแทบทุกตัว ซึ่งบางส่วนเกิดจากการตั้งค่า รหัสวัคซีนไม่ถูกต้องโดยฌฉพาะวัคซีนใหม่ ซึ่งจากตารางพบว่า วัคซีน ที่ทีการปรับเปลี่ยนในช่วง  2  ปีที่ผ่านมา คือ 
1. IPV ที่มีการเอาเข้ามาทดแทน OPV แบบหยอด 
2. MMR2 มีการเลื่อนกลุ่มอายุที่ ฉีดจากปกติ เราจะฉีดในเด็กนักเรียน ป.1 แต่เมื่อปลายปี งบประมาณ​2558 มีการปรับมาฉีดที่เด็ก 2 ปี ครึ่ง
ซึ่งทำให้เกิดปัญหาด้านข้อมูล เนื่องจากบางแห่ง ยังไม่ได้เพิ่ม วัคซีน และยังไม่เข้าใจวัคซีนรหัสที่ต้องบันทึก
มาดูกันครับ ว่าเราตรวจสอบการตั้งค่าอย่างไร

![ตารางวัคซีนเด็กไทย ปี 2559](/img/epi/epi_table_2559.jpg)

โดยชื่อวัคซันและรหัสวัคซัน สามารถดุได้จากตารางมาตรฐาน [รหัสอ้างอิง วัคซีน](http://203.157.185.18/download/IT/standardcode43_2559_v2.1_15JULY16/198.vaccine_code_20151124.xls)
#### ตารางใน Hosxp_pcu ที่เกี่ยวข้องกับงานวัคซีน
---

การบันทึกข้อมูล ใน Hosxp_pcu แบ่งออกเป็นตามช่วงอายุของผู้ได้รับบริการ หรือกลุ่มของผู้รับบริการ ได้ดังนี้ 

![epi](/img/epi/vaccine_group.png)

ซึ่งในโปรแกรม Hosxp_pcu จะแบ่งออกเป็นบัญชี ดังภาพ แต่ก็จะมี กลุ่มบุคคลทั่วไป ที่ไม่ได้อยู่ ในระบบบัญชี ดังนั้นเวลาที่เราให้บริการ ฉีดวัดซีนก็คีย์ที่ One Stop Service
เช่นวัคซีน Rabies , วัคซีนป้องกันบาดทะยักในบุคคลทั่วไป ,`วัคซีนรณรงค์ต่างๆ เช่น DTC , MRC`

![epi](/img/epi/vaccine_group2.png)

**ตารางที่เก็บข้อมูลวัคซีนใน Hosxp_pcu**

![epi](/img/epi/vaccine_table_inhos.png)

### ตารางที่เกี่ยวข้องกับการตั้งค่าระบบ ของ วัคซีน
---
* **person_vaccine**  
* **anc_service**
* **wbc_vaccine**
* **epi_vaccine**
* **student_vaccine**
* **vaccine_combination**
* **provis_vcctype**

โดยเราสามารถเข้าไปดูตารางต่างๆ การใข้งาน [การเข้าถึงตารางด้วย SqlQuery]({% link _posts/2016-11-02-Sql_query_hosxp.md %}) ได้ โดยใช้ Login ที่มีสิทธิ Admin

#### _ตาราง  **person_vaccine**_
> โดยตาราง ***person_vaccine*** นั้นจะเก็บข้อมูลของวัคซีนทุกตัวที่มีในระบบ 

![person_vaccine](/img/epi/person_vaccine.png)
> 1. เราพิมพ์ ชื่อตามราง `person_vaccine` แล้ว คลิก `Run` จะพบข้อมูลตารางดังภาพนะครับ
> 2. Vaccine_name คือชื่อวัคซีนที่  เราจะมองเห็นจากตัวโปรแกรมเมื่อบันทึกข้อมูล ครับ สังเกตุว่าจะมีการใส่ `(รหัส ICD10 ของวัคซีนตัวนั้นด้วย)` ซึ่งตรงนี้เราสามารถแก้ไขได้ อาจจะใส่ รหัสวัคซีนไปด้วยก็ได้เช่น `ให้วัคซีน MMR ฉีดอายุ 9 เดือน (Z274)(รหัสส่งออก 061)`
> 3. vaccine_code ชื่อนี้ต้องสัมพันธ์กันกับ vaccine_code ที่อยู่ในตารางอืนๆ ที่จะกล่าวต่อไป
> 4. vaccine_group ชื่อกลุ่มของวัคซีน เช่น TT  HVB 
> 5. export_vaccine_code คือรหัสส่งออก วัคซีน ซึ่งต้องตรงกับมาตรฐานที่ สนย.กำหนด [รหัสอ้างอิง วัคซีน](http://203.157.185.18/download/IT/standardcode43_2559_v2.1_15JULY16/198.vaccine_code_20151124.xls)
> 6. `+`กรณีที่เราต้องการเพิ่มวัคซีนใหม่ 

หากมีการแก้ไขข้อมูลใน ตาราง ให้กด `UPDATE` ทุกครั้ง


#### _ตาราง  **anc_service**_
> โดยตาราง ***anc_service*** นั้นจะเก็บข้อมูลของวัคซีนฉีดในหญิงตั้งครรภ์ ซึ่งเป็นบริการในบัญชี 2

![anc_service](/img/epi/anc_service.png)

> 1. เราพิมพ์ ชื่อตามราง `anc_service`  แล้ว คลิก `Run` จะพบข้อมูลตารางดังภาพนะครับ
> 2. Vaccine_name คือชื่อวัคซีนที่  เราจะมองเห็นจากตัวโปรแกรมเมื่อบันทึกข้อมูล ควรเป็นชื่อที่สัมพันธ์กันกับ ตาราง `person_vaccine` นะครับ
> 3. anc_service_code ชื่อนี้ต้องสัมพันธ์กันกับ  ที่อยู่ในตาราง `vaccine_code` ในตาราง `person_vaccine`
> 4. export_vaccine_code คือรหัสส่งออก วัคซีน ซึ่งต้องตรงกับมาตรฐานที่ สนย.กำหนด [รหัสอ้างอิง วัคซีน](http://203.157.185.18/download/IT/standardcode43_2559_v2.1_15JULY16/198.vaccine_code_20151124.xls)

หากมีการแก้ไขข้อมูลใน ตาราง ให้กด `UPDATE` ทุกครั้ง

#### _ตาราง  **wbc_vaccine**_
> โดยตาราง ***wbc_vaccine*** นั้นจะเก็บข้อมูลของวัคซีนฉีดในเด็กต่ำกว่า 1 ปี ในบัญชี 3

![anc_service](/img/epi/wbc_vaccine.png)

> 1. เราพิมพ์ ชื่อตามราง `wbc_vaccine`  แล้ว คลิก `Run` จะพบข้อมูลตารางดังภาพนะครับ
> 2. wbc_vaccine_name คือชื่อวัคซีนที่  เราจะมองเห็นจากตัวโปรแกรมเมื่อบันทึกข้อมูล ควรเป็นชื่อที่สัมพันธ์กันกับ ตาราง `person_vaccine` นะครับ
> 3. wbc_vaccine_code ชื่อนี้ต้องสัมพันธ์กันกับ  ที่อยู่ในตาราง `vaccine_code` ในตาราง `person_vaccine`
> 4. age_min และ age_max  คือช่วงช่วงอายุ เดือน ที่ต่ำสุด และสูงสุดที่ได้รับวัคซีน ตัวนี้  **หน่วยเป็นเดือนนะครับไม่ใช่ ปี**
> 5. export_vaccine_code คือรหัสส่งออก วัคซีน ซึ่งต้องตรงกับมาตรฐานที่ สนย.กำหนด [รหัสอ้างอิง วัคซีน](http://203.157.185.18/download/IT/standardcode43_2559_v2.1_15JULY16/198.vaccine_code_20151124.xls)
> 6. check_code คือรหัสเดียวกับ wbc_vaccine_code ผมไม่รู้เหมือนกันว่าเอาไว้ทำไม เอาเป็นว่าทำให้ตรงกัน ละกันครับ
> 7. vaccine_in_use คือตัวที่บ่งบอกว่าวัคซีนตัวนี้นำไปคิดความครอบคลุมหรือไม่ `Y` คือคิดความครอบคลุม  `N` คือไม่คิดความครอบคลุม  

หากมีการแก้ไขข้อมูลใน ตาราง ให้กด `UPDATE` ทุกครั้ง

#### _ตาราง  **epi_vaccine**_
> โดยตาราง ***epi_vaccine*** นั้นจะเก็บข้อมูลของวัคซีนฉีดในเด็ก 1-5 ปี ในบัญชี 4

![epi_vaccine](/img/epi/epi_vaccine.png)

ลักษณะข้อมูลจะเหมือนตาราง `wbc_vaccine`
> 1. เราพิมพ์ ชื่อตามราง `epi_vaccine`  แล้ว คลิก `Run` จะพบข้อมูลตารางดังภาพนะครับ
> 2. epi_vaccine_name คือชื่อวัคซีนที่  เราจะมองเห็นจากตัวโปรแกรมเมื่อบันทึกข้อมูล ควรเป็นชื่อที่สัมพันธ์กันกับ ตาราง `person_vaccine` นะครับ
> 3. epi_vaccine_code ชื่อนี้ต้องสัมพันธ์กันกับ  ที่อยู่ในตาราง `vaccine_code` ในตาราง `person_vaccine`
> 4. age_min และ age_max  คือช่วงช่วงอายุ เดือน ที่ต่ำสุด และสูงสุดที่ได้รับวัคซีน ตัวนี้  **หน่วยเป็นเดือนนะครับไม่ใช่ ปี**
> 5. export_vaccine_code คือรหัสส่งออก วัคซีน ซึ่งต้องตรงกับมาตรฐานที่ สนย.กำหนด [รหัสอ้างอิง วัคซีน](http://203.157.185.18/download/IT/standardcode43_2559_v2.1_15JULY16/198.vaccine_code_20151124.xls)
> 6. check_code คือรหัสเดียวกับ wbc_vaccine_code ผมไม่รู้เหมือนกันว่าเอาไว้ทำไม เอาเป็นว่าทำให้ตรงกัน ละกันครับ
> 7. vaccine_in_use คือตัวที่บ่งบอกว่าวัคซีนตัวนี้นำไปคิดความครอบคลุมหรือไม่ `Y` คือคิดความครอบคลุม  `N` คือไม่คิดความครอบคลุม  

หากมีการแก้ไขข้อมูลใน ตาราง ให้กด `UPDATE` ทุกครั้ง

#### _ตาราง  **student_vaccine**_
> โดยตาราง ***student_vaccine*** นั้นจะเก็บข้อมูลของวัคซีนฉีดในเด็ก นักเรียนประถมศึกษา ในบัญชี 5

![student_vaccine](/img/epi/student_vaccine.png)


> 1. เราพิมพ์ ชื่อตามราง `student_vaccine`  แล้ว คลิก `Run` จะพบข้อมูลตารางดังภาพนะครับ
> 2. student_vaccine_name คือชื่อวัคซีนที่  เราจะมองเห็นจากตัวโปรแกรมเมื่อบันทึกข้อมูล ควรเป็นชื่อที่สัมพันธ์กันกับ ตาราง `person_vaccine` นะครับ
> 3. student_vaccine_code ชื่อนี้ต้องสัมพันธ์กันกับ  ที่อยู่ในตาราง `vaccine_code` ในตาราง `person_vaccine`
> 4. export_vaccine_code คือรหัสส่งออก วัคซีน ซึ่งต้องตรงกับมาตรฐานที่ สนย.กำหนด [รหัสอ้างอิง วัคซีน](http://203.157.185.18/download/IT/standardcode43_2559_v2.1_15JULY16/198.vaccine_code_20151124.xls)
> 5. check_code คือรหัสเดียวกับ wbc_vaccine_code ผมไม่รู้เหมือนกันว่าเอาไว้ทำไม เอาเป็นว่าทำให้ตรงกัน ละกันครับ

หากมีการแก้ไขข้อมูลใน ตาราง ให้กด `UPDATE` ทุกครั้ง

#### _ตาราง  **vaccine_combination**_
> โดยตาราง ***vaccine_combination*** นั้นจะเก็บข้อมูลของวัคซีนรวมซึ่งแต่ก่อนใช้ แยกวัคซีน เช่น DTPHB แต่เดียวนี้ไม่มีวัคซีนที่ต้องแยกแล้วนะครับ แต่ว่าข้อมูลตารางนี้ยังคงใช้งานอยู่
เราจึงต้องตั้งค่าตารางนี้ด้วยครับ

![student_vaccine](/img/epi/vaccine_com.png)


> 1. เราพิมพ์ ชื่อตามราง `vaccine_combination`  แล้ว คลิก `Run` จะพบข้อมูลตารางดังภาพนะครับ
> 3. vaccine_code ชื่อนี้ต้องสัมพันธ์กันกับ  ที่อยู่ในตาราง `vaccine_code` ในตาราง `person_vaccine`
> 4. vaccine_combine_code คือรหัสเดียวกัน กับว `vaccine_code`

หากมีการแก้ไขข้อมูลใน ตาราง ให้กด `UPDATE` ทุกครั้ง

#### _ตารางสุดท้ายครับ  **provis_vcctype**_
> โดยตาราง ***provis_vcctype*** นั้นจะเก็บข้อมูลของวัคซีนที่จะส่งออกครับ

![provis_vcctype](/img/epi/provis_vcctype.png)


> 1. เราพิมพ์ ชื่อตามราง `provis_vcctype`  แล้ว คลิก `Run` จะพบข้อมูลตารางดังภาพนะครับ
> 2. code ชื่อนี้ต้องสัมพันธ์กันกับ `export_vaccine_code` ในตาราง `person_vaccine`
> 3. name ชื่อต้องตรงกันกับ `vaccine_code` ในตาราง `person_vaccine`



